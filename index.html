<!DOCTYPE HTML>
<html>
<head>
  <!-- Support for mobile touch devices -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1, minimal-ui">

  <!-- CSS -->

  <!-- Font awesome CSS for tool icons -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <!-- Bootstrap CSS -->
  <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Cornerstone Base CSS -->
  <link href="bower_components/cornerstone/dist/cornerstone.min.css" rel="stylesheet">

  <!-- Cornerstone Demo CSS -->
  <link href="css/cornerstoneDemo.css" rel="stylesheet">
</head>

<body>
  <div id="wrap">

    <!-- Nav bar -->
    <nav class="myNav navbar navbar-default" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="https://github.com/chafey/cornerstone">Cornerstone</a>
        </div>
        <ul class="nav navbar-nav navbar-right">
          <li><a id="help" href="#" class="button hidden-xs">Help</a></li>
          <li><a id="about" href="#" class="button hidden-xs">About</a></li>
        </ul>
      </div>
    </nav>

    <div class='main'>

      <!-- Tabs bar -->
      <ul id="tabs" class="nav nav-tabs" >
        <li class="active"><a href="#studyList" data-toggle="tab">Study List</a></li>
      </ul>

      <!-- Tab content -->
      <div id="tabContent" class="tab-content">
        <!-- Study list -->
        <div id="studyList" class="tab-pane active">
          <div class="row">
            <table  class="col-md-12 table table-striped">
              <thead>
                <tr>
                  <th>Patient Name</th>
                  <th>Patient ID</th>
                  <th>Study Date</th>
                  <th>Modality</th>
                  <th>Study Description</th>
                  <th># Images</th>
                </tr>
              </thead>
              
              <tbody id="studyListData">
                <!-- Table rows get populated from the JSON studyList manifest -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Study viewer tab content template -->
      <div id="studyViewerTemplate" class="tab-pane active hidden" style="height:100%">
        <div class="studyContainer" style="height:100%">
          <div class="studyRow row" style="height:100%">

          <!-- Thumbnails -->
            <div class="thumbnailSelector">
              <div class="thumbnails list-group">
              </div>
            </div>

            <!-- Viewer -->
            <div class="viewer">
              <!-- Toolbar -->
              <div class="text-center" >
                <div class="btn-group">
                  <!-- WW/WL -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="WW/WC"><span class="fa fa-sun-o"></span></button>
                  <!-- Invert -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Invert"><span class="fa fa-adjust"></span></button>
                  <!-- Zoom -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Zoom"><span class="fa fa-search"></span></button>
                  <!-- Pan -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Pan"><span class="fa fa-arrows"></span></button>
                  <!-- Stack scroll -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Stack Scroll"><span class="fa fa-bars"></span></button>
                  <!-- Length measurement -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Length Measurement"><span class="fa fa-arrows-v"></span></button>
                  <!-- Angle measurement -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Angle Measurement"><span class="fa fa-angle-left"></span></button>
                  <!-- Pixel probe -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Pixel Probe"><span class="fa fa-dot-circle-o"></span></button>
                  <!-- Elliptical ROI -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Elliptical ROI"><span class="fa fa-circle-o"></span></button>
                  <!-- Rectangle ROI -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Rectangle ROI"><span class="fa fa-square-o"></span></button>
                  <!-- Play clip -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Play Clip"><span class="fa fa-play"></span></button>
                  <!-- Stop clip -->
                  <button type="button" class="btn btn-sm btn-default" data-container='body' data-toggle="tooltip" data-placement="bottom" title="Stop Clip"><span class="fa fa-stop"></span></button>
                </div>
              </div>

              <!-- Viewer -->
              <div class="imageViewer">
                <!-- Viewport wrapper-->
                <div class="viewportWrapper" style="width:100%;height:100%;position:relative;color: white;display:inline-block;background-color:black;"
                oncontextmenu="return false"
                class='cornerstone-enabled-image'
                unselectable='on'
                onselectstart='return false;'
                onmousedown='return false;'>
                  <!-- Viewport -->
                  <div class="viewport"></div>

                <!-- Overlays -->
                <div class="overlay" style="top:0px; left:0px">
                  <div>Patient Name</div>
                  <div>Patient Id</div>
                </div>

                <div class="overlay" style="top:0px; right:0px">
                  <div>Study Description</div>
                  <div>Study Date</div>
                </div>

                <div class="overlay" style="bottom:0px; left:0px">
                  <div class="fps">FPS:</div>
                  <div class="renderTime">Render Time:</div>
                  <div class="currentImageAndTotalImages">Image #:</div>
                </div>

                <div class="overlay" style="bottom:0px; right:0px">
                  <div>Zoom:</div>
                  <div>WW/WC:</div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Help modal -->
<div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Help</h4>
      </div>
      <div class="modal-body">
        <ol>
          <li>Select a study in the study list to view its images, a new tab will be created for each study.</li>
          <li>Interact with the image using your mouse: left click drag - ww/wl, middle click drag - pan, right click drag - zoom, mouse wheel - scroll through stack</li>
          <li>Select another series to display by left click the series list on the left</li>
          <li>Select another tool to use with the left mouse button by selecting the tool button</li>
        </ol>
        <br>
        This demo requires a HTLM5 browser, Google Chrome is recommended.
        <br>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<!-- About modal -->
<div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">About</h4>
      </div>
      <div class="modal-body">
        <br>
        This demo is based on the Cornerstone open source project.  All 2D image rendering is done on the client side
        side using HTML5 and JavaScript.  DICOM P10 Instances are retrieved via WADO, parsed and displayed by the viewer -
        the server side performs no processing.
        <br>
        <br>
        <a href="https://github.com/chafey/cornerstone" target="_blank">Click here to learn more about cornerstone</a>
        <br>
        <br>
        <a href="architecture.html" target="_blank">Click here to read about the architecture</a>
        <br>
        <br>
        Hosting of demo images provided by <a href="http://www.lury.net" target="_blank">Lury</a>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<!-- Javascripts -->

<!-- Include JQuery -->
<script src="bower_components/jquery/dist/jquery.min.js"></script>

<!-- Include JQuery Hammerjs adapter for mobile touch-->
<script src="bower_components/jquery-hammerjs/jquery.hammer-full.js"></script>

<!-- Include Bootstrap js -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- include the cornerstone library -->
<script src="bower_components/cornerstone/dist/cornerstone.js"></script>

<!-- include the cornerstone library -->
<script src="bower_components/cornerstoneMath/dist/cornerstoneMath.js"></script>

<!-- include the cornerstone tools library -->
<script src="bower_components/cornerstoneTools/dist/cornerstoneTools.js"></script>

<!-- include the cornerstoneWADOImageLoader library -->
<script src="bower_components/cornerstoneWADOImageLoader/dist/cornerstoneWADOImageLoader.js"></script>

<!-- include the cornerstoneWebImageLoader library -->
<script src="bower_components/cornerstoneWebImageLoader/dist/cornerstoneWebImageLoader.js"></script>

<!-- include the dicomParser library -->
<script src="bower_components/dicomParser/dist/dicomParser.js"></script>

<!-- include cornerstoneDemo.js -->
<script src="js/cornerstoneDemo.js"></script>

</body>
</html>